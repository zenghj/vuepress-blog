(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{449:function(e,t,r){"use strict";r.r(t);var a=r(10),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h2",{attrs:{id:"nodejs模块机制"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#nodejs模块机制"}},[e._v("#")]),e._v(" Nodejs模块机制")]),e._v(" "),r("h2",{attrs:{id:"热更新实现"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#热更新实现"}},[e._v("#")]),e._v(" 热更新实现")]),e._v(" "),r("p",[e._v("方案1: 监听文件变更，然后重启应用，比如"),r("a",{attrs:{href:"https://github.com/petruisfan/node-supervisor",target:"_blank",rel:"noopener noreferrer"}},[e._v("node-supervisor"),r("OutboundLink")],1),e._v("、"),r("a",{attrs:{href:"https://github.com/Unitech/PM2",target:"_blank",rel:"noopener noreferrer"}},[e._v("PM2"),r("OutboundLink")],1),e._v("、"),r("a",{attrs:{href:"https://github.com/fgnass/node-dev",target:"_blank",rel:"noopener noreferrer"}},[e._v("node-dev"),r("OutboundLink")],1),e._v("\n方案2: 监听文件变更，更新模块，不重启应用")]),e._v(" "),r("p",[e._v("在日常开发过程中，重启开发server可能耗时比较长，所以这种时候不重启server的方案还是比较有吸引力的（仅在开发环境时使用）")]),e._v(" "),r("h3",{attrs:{id:"热更新且不重启"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#热更新且不重启"}},[e._v("#")]),e._v(" 热更新且不重启")]),e._v(" "),r("p",[e._v("为实现热更新且不重启server，需要解决以下几个问题：")]),e._v(" "),r("ul",[r("li",[e._v("更新模块代码；")]),e._v(" "),r("li",[e._v("使用新模块处理请求；")]),e._v(" "),r("li",[e._v("释放老模块的资源；")])]),e._v(" "),r("h2",{attrs:{id:"参考"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"http://fredkschott.com/post/2014/06/require-and-the-module-system/",target:"_blank",rel:"noopener noreferrer"}},[e._v("The Node.js Way - How "),r("code",[e._v("require()")]),e._v(" Actually Works"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://fex.baidu.com/blog/2015/05/nodejs-hot-swapping/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Node.js Web应用代码热更新的另类思路"),r("OutboundLink")],1)]),e._v(" "),r("li",[e._v("https://github.com/rlidwka/node-hotswap")])])])}),[],!1,null,null,null);t.default=s.exports}}]);